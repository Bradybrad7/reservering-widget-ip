<!DOCTYPE html>
<html lang="nl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>üé≠ Email Template Preview - Dark Theatre System</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Arial, sans-serif;
      background: linear-gradient(135deg, #1a1a1a 0%, #2a2a2a 100%);
      color: #f1f1f1;
      padding: 40px 20px;
      min-height: 100vh;
    }

    .container {
      max-width: 1400px;
      margin: 0 auto;
    }

    .header {
      text-align: center;
      margin-bottom: 60px;
      padding-bottom: 30px;
      border-bottom: 2px solid #D4AF37;
    }

    .header h1 {
      font-size: 48px;
      color: #D4AF37;
      margin-bottom: 10px;
      font-weight: 700;
      text-shadow: 0 2px 8px rgba(212, 175, 55, 0.3);
    }

    .header p {
      font-size: 18px;
      color: #a0a0a0;
    }

    .controls {
      display: flex;
      gap: 20px;
      margin-bottom: 40px;
      flex-wrap: wrap;
      justify-content: center;
    }

    .btn {
      padding: 14px 28px;
      background: linear-gradient(135deg, #D4AF37 0%, #B8941F 100%);
      color: #1a1a1a;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      font-size: 16px;
      font-weight: 600;
      transition: all 0.3s ease;
      box-shadow: 0 4px 12px rgba(212, 175, 55, 0.3);
    }

    .btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(212, 175, 55, 0.5);
    }

    .btn.active {
      background: linear-gradient(135deg, #B8941F 0%, #9A7B1A 100%);
      transform: scale(1.05);
    }

    .grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(600px, 1fr));
      gap: 30px;
      margin-bottom: 40px;
    }

    .email-card {
      background: #2a2a2a;
      border-radius: 16px;
      overflow: hidden;
      box-shadow: 0 8px 32px rgba(0, 0, 0, 0.4);
      border: 1px solid #3a3a3a;
      transition: transform 0.3s ease;
    }

    .email-card:hover {
      transform: translateY(-4px);
      box-shadow: 0 12px 40px rgba(212, 175, 55, 0.2);
    }

    .email-header {
      background: linear-gradient(135deg, #D4AF37 0%, #B8941F 100%);
      color: #1a1a1a;
      padding: 20px;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .email-header h2 {
      font-size: 20px;
      font-weight: 700;
    }

    .email-badge {
      background: rgba(26, 26, 26, 0.2);
      padding: 6px 12px;
      border-radius: 20px;
      font-size: 12px;
      font-weight: 600;
      text-transform: uppercase;
    }

    .email-preview {
      background: #f1f1f1;
      min-height: 600px;
      overflow: auto;
    }

    .email-preview iframe {
      width: 100%;
      min-height: 600px;
      border: none;
      display: block;
      background: white;
    }

    .stats {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 20px;
      margin-top: 40px;
    }

    .stat-card {
      background: #2a2a2a;
      padding: 24px;
      border-radius: 12px;
      border: 1px solid #3a3a3a;
      text-align: center;
    }

    .stat-value {
      font-size: 36px;
      font-weight: 700;
      color: #D4AF37;
      margin-bottom: 8px;
    }

    .stat-label {
      font-size: 14px;
      color: #a0a0a0;
      text-transform: uppercase;
      letter-spacing: 1px;
    }

    .info-box {
      background: #2a2a2a;
      border-left: 4px solid #D4AF37;
      padding: 20px;
      border-radius: 8px;
      margin-top: 40px;
    }

    .info-box h3 {
      color: #D4AF37;
      margin-bottom: 12px;
      font-size: 18px;
    }

    .info-box ul {
      list-style: none;
      padding-left: 0;
    }

    .info-box li {
      padding: 8px 0;
      color: #c0c0c0;
      line-height: 1.6;
    }

    .info-box li::before {
      content: '‚úì ';
      color: #D4AF37;
      font-weight: bold;
      margin-right: 8px;
    }

    @media (max-width: 768px) {
      .grid {
        grid-template-columns: 1fr;
      }

      .header h1 {
        font-size: 32px;
      }

      .controls {
        flex-direction: column;
      }

      .btn {
        width: 100%;
      }
    }

    .loading {
      text-align: center;
      padding: 60px 20px;
      color: #a0a0a0;
    }

    .spinner {
      width: 50px;
      height: 50px;
      border: 4px solid #3a3a3a;
      border-top-color: #D4AF37;
      border-radius: 50%;
      animation: spin 1s linear infinite;
      margin: 0 auto 20px;
    }

    @keyframes spin {
      to { transform: rotate(360deg); }
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="header">
      <h1>üé≠ Email Template Preview</h1>
      <p>Dark Theatre Master Template System</p>
    </div>

    <div class="controls">
      <button class="btn active" onclick="showEmail('confirmed')">
        ‚úÖ Bevestiging
      </button>
      <button class="btn" onclick="showEmail('option')">
        ‚è∞ Optie
      </button>
      <button class="btn" onclick="showEmail('pending')">
        ‚è≥ Aanvraag
      </button>
      <button class="btn" onclick="showEmail('waitlist')">
        üìã Wachtlijst
      </button>
      <button class="btn" onclick="showAll()">
        üëÅÔ∏è Toon Alles
      </button>
    </div>

    <div id="emailContainer">
      <div class="loading">
        <div class="spinner"></div>
        <p>Klik op een knop om een email template te bekijken...</p>
      </div>
    </div>

    <div class="stats">
      <div class="stat-card">
        <div class="stat-value">4</div>
        <div class="stat-label">Email Types</div>
      </div>
      <div class="stat-card">
        <div class="stat-value">100%</div>
        <div class="stat-label">Table-Based</div>
      </div>
      <div class="stat-card">
        <div class="stat-value">6+</div>
        <div class="stat-label">Email Clients</div>
      </div>
      <div class="stat-card">
        <div class="stat-value">1</div>
        <div class="stat-label">Master Template</div>
      </div>
    </div>

    <div class="info-box">
      <h3>üìß Template Features</h3>
      <ul>
        <li>Table-based layout voor maximale compatibility</li>
        <li>Dark Theatre branding (#1a1a1a background, #D4AF37 gold accents)</li>
        <li>Bulletproof buttons (werkt in alle clients)</li>
        <li>Web-safe fonts only (Arial, Helvetica, sans-serif)</li>
        <li>Inline CSS (geen externe stylesheets)</li>
        <li>Responsive design (mobile-friendly)</li>
        <li>Compatible met Gmail, Outlook, Apple Mail, Yahoo, Thunderbird, etc.</li>
      </ul>
    </div>

    <div class="info-box" style="margin-top: 20px;">
      <h3>üîß Implementation Status</h3>
      <ul>
        <li>‚úÖ Master Template (emailMasterTemplate.ts)</li>
        <li>‚úÖ Content Generators (emailContentGenerators.ts)</li>
        <li>‚úÖ Modern Email Service (modernEmailService.ts)</li>
        <li>‚è≥ Email Provider Integration (EmailJS / SendGrid / Nodemailer)</li>
        <li>‚è≥ Live Testing & Deployment</li>
      </ul>
    </div>
  </div>

  <script>
    // ‚ö†Ô∏è MOCK DATA - In productie komen deze van Firestore
    const mockReservation = {
      id: 'RES-2025-001',
      contactPerson: 'Jan Janssen',
      firstName: 'Jan',
      lastName: 'Janssen',
      email: 'jan.janssen@example.com',
      phone: '+31 6 12345678',
      numberOfPersons: 4,
      arrangement: 'Deluxe',
      preDrink: true,
      afterParty: false,
      merchandise: [],
      totalPrice: 299.00,
      status: 'confirmed',
      paymentStatus: 'paid',
      paymentDueDate: new Date('2025-12-31'),
      optionExpiresAt: new Date('2025-12-31'),
      createdAt: new Date(),
    };

    const mockEvent = {
      id: 'EVT-001',
      type: 'DINNER_SHOW',
      date: new Date('2025-12-31T19:00:00'),
      doorsOpen: '18:30',
      startsAt: '19:30',
      capacity: 100,
    };

    // Deze functie moet je importeren uit de TypeScript modules
    // Voor nu tonen we placeholder HTML
    function showEmail(type) {
      // Update active button
      document.querySelectorAll('.btn').forEach(btn => btn.classList.remove('active'));
      event.target.classList.add('active');

      const container = document.getElementById('emailContainer');
      
      const html = `
        <div class="email-card">
          <div class="email-header">
            <h2>${getEmailTitle(type)}</h2>
            <span class="email-badge">${type}</span>
          </div>
          <div class="email-preview">
            <iframe srcdoc="${escapeHtml(generateMockEmail(type))}"></iframe>
          </div>
        </div>
      `;
      
      container.innerHTML = html;
    }

    function showAll() {
      document.querySelectorAll('.btn').forEach(btn => btn.classList.remove('active'));
      event.target.classList.add('active');

      const container = document.getElementById('emailContainer');
      const types = ['confirmed', 'option', 'pending', 'waitlist'];
      
      container.innerHTML = `<div class="grid">${
        types.map(type => `
          <div class="email-card">
            <div class="email-header">
              <h2>${getEmailTitle(type)}</h2>
              <span class="email-badge">${type}</span>
            </div>
            <div class="email-preview">
              <iframe srcdoc="${escapeHtml(generateMockEmail(type))}"></iframe>
            </div>
          </div>
        `).join('')
      }</div>`;
    }

    function getEmailTitle(type) {
      const titles = {
        confirmed: '‚úÖ Reservering Bevestigd',
        option: '‚è∞ Optie Vastgelegd',
        pending: '‚è≥ Aanvraag Ontvangen',
        waitlist: 'üìã Wachtlijst Registratie',
      };
      return titles[type] || type;
    }

    function escapeHtml(html) {
      return html
        .replace(/&/g, '&amp;')
        .replace(/</g, '&lt;')
        .replace(/>/g, '&gt;')
        .replace(/"/g, '&quot;')
        .replace(/'/g, '&#039;');
    }

    // ‚ö†Ô∏è PLACEHOLDER - In productie gebruik je de echte template generators
    function generateMockEmail(type) {
      return `
        <div style="background: #1a1a1a; padding: 40px 20px; font-family: Arial, Helvetica, sans-serif;">
          <div style="max-width: 600px; margin: 0 auto; background: white; border-radius: 8px; overflow: hidden;">
            <div style="background: #D4AF37; padding: 30px; text-align: center;">
              <h1 style="color: #1a1a1a; margin: 0; font-size: 28px;">üé≠ Inspiration Point</h1>
            </div>
            <div style="background: #2a2a2a; padding: 40px; color: white;">
              <h2 style="color: #D4AF37; margin-top: 0;">${getEmailTitle(type)}</h2>
              <p style="color: #f1f1f1; line-height: 1.6;">
                Beste ${mockReservation.contactPerson},
              </p>
              <p style="color: #c0c0c0; line-height: 1.6;">
                ${getEmailContent(type)}
              </p>
              <table style="width: 100%; margin: 30px 0; border-collapse: collapse;">
                <tr>
                  <td style="padding: 12px; border-bottom: 1px solid #3a3a3a; color: #a0a0a0;">Evenement:</td>
                  <td style="padding: 12px; border-bottom: 1px solid #3a3a3a; color: #f1f1f1;">Dinner Show</td>
                </tr>
                <tr>
                  <td style="padding: 12px; border-bottom: 1px solid #3a3a3a; color: #a0a0a0;">Datum:</td>
                  <td style="padding: 12px; border-bottom: 1px solid #3a3a3a; color: #f1f1f1;">31 december 2025</td>
                </tr>
                <tr>
                  <td style="padding: 12px; border-bottom: 1px solid #3a3a3a; color: #a0a0a0;">Aantal personen:</td>
                  <td style="padding: 12px; border-bottom: 1px solid #3a3a3a; color: #f1f1f1;">4 personen</td>
                </tr>
                <tr>
                  <td style="padding: 12px; color: #a0a0a0;">Totaalprijs:</td>
                  <td style="padding: 12px; color: #D4AF37; font-weight: bold; font-size: 18px;">‚Ç¨299,00</td>
                </tr>
              </table>
              <div style="text-align: center; margin: 40px 0;">
                <a href="#" style="display: inline-block; background: #D4AF37; color: #1a1a1a; padding: 16px 32px; text-decoration: none; border-radius: 8px; font-weight: bold; box-shadow: 0 4px 12px rgba(212, 175, 55, 0.3);">
                  ${getButtonText(type)}
                </a>
              </div>
            </div>
            <div style="background: #1a1a1a; padding: 30px; text-align: center; color: #a0a0a0; font-size: 14px;">
              <p style="margin: 0 0 10px 0;">Bij vragen kunt u ons bereiken via:</p>
              <p style="margin: 0;">üìß info@inspirationpoint.nl | üìû +31 (0)20 123 45 67</p>
            </div>
          </div>
        </div>
      `;
    }

    function getEmailContent(type) {
      const content = {
        confirmed: 'Uw reservering is definitief bevestigd! We kijken ernaar uit u te ontvangen.',
        option: 'We hebben uw plaatsen tijdelijk gereserveerd. Bevestig uw reservering voor de vervaldatum.',
        pending: 'Bedankt voor uw aanvraag. Ons team neemt binnen 24 uur contact met u op.',
        waitlist: 'Zodra er plaatsen vrijkomen, nemen wij zo snel mogelijk contact met u op.',
      };
      return content[type] || '';
    }

    function getButtonText(type) {
      const buttons = {
        confirmed: 'Bekijk Reserveringsdetails',
        option: 'Bevestig Nu Uw Reservering',
        pending: 'Terug naar Website',
        waitlist: 'Terug naar Website',
      };
      return buttons[type] || 'Meer Info';
    }

    // Show confirmed email by default
    window.onload = () => {
      showEmail('confirmed');
    };
  </script>
</body>
</html>
